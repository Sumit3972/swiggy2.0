import{u as j,a as k,b as r,j as e,s as S,c as L,t as f,d as _,r as D,p as z,e as p,f as g,C as I,L as u,O,g as R}from"./index-D9YnBNb_.js";function B(){const l=j(),n=k(),t=r(i=>i.authSlice.userData);async function o(){let i=await S(p,z);const d={name:i.user.displayName,photo:i.user.photoURL};l(L(d)),l(f()),n("/")}async function m(){await _(p),l(D()),l(f())}return e.jsx(e.Fragment,{children:t?e.jsx("button",{onClick:m,className:"my-5 w-full text-2xl p-5 bg-[#fc8019] text-white",children:"Logout"}):e.jsx("button",{onClick:o,className:"my-5 w-full text-2xl p-5 bg-[#fc8019] text-white",children:"Login with GOOGLE"})})}function E(){const l=[{name:"Search",image:"fi-rr-search",path:"/search"},{name:"Sign in",image:"fi-rr-user",path:"/signin"},{name:"Cart",image:"fi-rr-shopping-cart-add",path:"/cart"}],n=r(s=>s.cartSlice.cartItems),t=r(s=>s.authSlice.userData),o=r(s=>s.toogleSlice.searchBarToogle),m=r(s=>s.toogleSlice.loginToggle),i=j(),[d,N]=g.useState([]),[w,b]=g.useState(""),{setCoord:v}=g.useContext(I);function x(){i(R())}function h(){i(f())}async function y(s){if(s=="")return;const c=await(await fetch(`https://cors-by-codethread-for-swiggy.vercel.app/cors/dapi/misc/place-autocomplete?input=${s}`)).json();N(c.data)}async function C(s){if(s=="")return;x();const c=await(await fetch(`https://cors-by-codethread-for-swiggy.vercel.app/cors/dapi/misc/address-recommend?place_id=${s}`)).json();v({lat:c.data[0].geometry.location.lat,lng:c.data[0].geometry.location.lng}),b(c.data[0].formatted_address)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full",children:[e.jsx("div",{onClick:x,className:"w-full bg-black/50 z-30 h-full absolute "+(o?"visible ":" invisible")}),e.jsx("div",{className:" bg-white flex justify-end  w-full md:w-[40%] h-full p-5 z-40 absolute duration-500 "+(o?"left-0":"-left-[100%]"),children:e.jsxs("div",{className:"flex flex-col gap-4 mt-3 w-full lg-[50%] mr-6",children:[e.jsx("i",{className:"fi fi-br-cross",onClick:x}),e.jsx("input",{type:"text",className:"border p-5 focus:outline-none focus:shadow-lg",onChange:s=>y(s.target.value)}),e.jsx("div",{className:"border p-5 ",children:e.jsx("ul",{children:d.map((s,a)=>{const c=a===d.length-1;return e.jsx("div",{className:"my-5",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("i",{className:"fi mt-1 fi-rr-marker"}),e.jsxs("li",{onClick:()=>C(s.place_id),children:[s.structured_formatting.main_text,e.jsx("p",{className:"text-sm opacity-65",children:s.structured_formatting.secondary_text}),!c&&e.jsx("p",{className:"opacity-35",children:"---------------------------------------------"})]})]})},a)})})})]})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{onClick:h,className:"w-full bg-black/50 z-30 h-full absolute "+(m?"visible ":" invisible")}),e.jsx("div",{className:" bg-white flex   w-full md:w-[40%] h-full p-5 z-40 fixed duration-500 "+(m?"right-0":"-right-[100%]"),children:e.jsxs("div",{className:" m-3 w-full lg:w-[60%] ",children:[e.jsx("i",{className:"fi fi-br-cross",onClick:h}),e.jsxs("div",{className:"my-10 w-full flex justify-between items-center",children:[e.jsx("h2",{className:"font-bold text-4xl border-b-2 border-black pb-5 ",children:"Login"}),e.jsx("img",{className:"w-28",src:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto/Image-login_btpq7r",alt:""})]}),e.jsx(B,{}),e.jsx("p",{className:"text-base mt-2 opacity-70",children:"By clicking on Login, I accept the Terms & Conditions & Privacy Policy"})]})})]}),e.jsxs("div",{className:"relative w-full ",children:[e.jsx("div",{className:"w-full sticky bg-white z-20 top-0 shadow-md h-24 flex justify-center items-center",children:e.jsxs("div",{className:"w-full sm:w-[90%] lg:w-[80%]  flex justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{to:"/",children:e.jsx("div",{className:"w-20",children:e.jsx("img",{src:"https://1000logos.net/wp-content/uploads/2021/05/Swiggy-emblem.png",alt:""})})}),e.jsxs("div",{className:"flex items-center gap-2 ",onClick:x,children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-bold border-b-2  border-black",children:"others"}),e.jsx("span",{className:"ml-2 max-w-[250px] text-sm opacity-85 line-clamp-1",children:w})]}),e.jsx("i",{className:"fi text-2xl mt-2 text-orange-500 fi-rs-angle-small-down"})]})]}),e.jsx("div",{className:" hidden md:flex items-center gap-2 md:gap-14",children:l.map((s,a)=>s.name=="Sign in"?e.jsx("div",{onClick:h,children:e.jsxs("div",{className:"flex items-center gap-3",children:[t?e.jsx("div",{className:"w-10 h-10 rounded-full ",children:e.jsx("img",{src:t.photo,alt:""})}):e.jsx("i",{className:"mt-1 fi text-xl text-gray-700 "+s.image}),e.jsx("p",{className:"text-lg font-medium text-gray-700",children:t?t.name:s.name}),s.name==="Cart"&&e.jsx("p",{children:n.length})]},a)},s.path):e.jsx(u,{to:s.path,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"mt-1 fi text-xl text-gray-700 "+s.image}),e.jsx("p",{className:"text-lg font-medium text-gray-700",children:s.name}),s.name==="Cart"&&e.jsx("p",{children:n.length})]},a)},s.path))}),e.jsx("div",{className:" flex items-center md:hidden gap-10 mr-4",children:l.map((s,a)=>s.name=="Sign in"?e.jsx("div",{onClick:h,children:e.jsxs("div",{className:"flex items-center gap-3",children:[t?e.jsx("div",{className:"w-10 h-10 rounded-full ",children:e.jsx("img",{src:t.photo,alt:""})}):e.jsx("i",{className:"mt-1 fi text-xl text-gray-700 "+s.image}),e.jsx("p",{className:"text-lg font-medium text-gray-700 line-clamp-1",children:t?t.name:s.name}),s.name==="Cart"&&e.jsx("p",{children:n.length})]},a)},s.path):e.jsxs(u,{to:s.path,children:[e.jsx("i",{className:"mt-1 fi text-xl text-gray-700 "+s.image}),s.name=="Cart"&&e.jsx("sup",{className:"",children:n.length})]},s.path))})]})}),e.jsx(O,{})]})]})}export{E as default};
