import{f as x,j as e,L as J,u as Q,h as U,C as X,b as Z}from"./index-D9YnBNb_.js";import{S as ee}from"./Shimmer-CrEQs_4O.js";function se({data:s=[]}){const[l,r]=x.useState(0);function c(){l>=124||r(n=>n+31)}function u(){l<=0||r(n=>n-31)}return e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex justify-between mt-5",children:[e.jsx("h1",{className:"font-bold text-2xl",children:"What's on your mind?"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{onClick:u,className:" cursor-pointer rounded-full w-9 h-9 flex justify-center items-center "+(l<=0?"bg-gray-100":"bg-gray-200"),children:e.jsx("i",{className:"fi text-2xl mt-1 fi-rr-arrow-small-left "+(l<=0?"text-gray-300":"text-gray-800")})}),e.jsx("div",{onClick:c,className:" cursor-pointer rounded-full w-9 h-9 flex justify-center items-center "+(l>=124?"bg-gray-100":"bg-gray-200"),children:e.jsx("i",{className:"fi text-2xl mt-1 fi-rr-arrow-small-right "+(l>=124?"text-gray-300":"text-gray-800")})})]})]}),e.jsx("div",{style:{translate:`-${l}%`},className:"flex mt-4  duration-300 ",children:s.map(n=>e.jsx("img",{className:"w-40 ",src:`https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_288,h_360/${n.imageId}`,alt:""},n.id))}),e.jsx("hr",{className:"border"})]})}function A(s){var l,r,c;return e.jsxs(J,{to:`/restaurantMenu/${s.link.split("/").at(-1)}`,children:[e.jsxs("div",{className:"min-w-[295px] h-[182px] relative ",children:[e.jsx("img",{className:"w-full h-full  rounded-2xl object-cover ",src:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_660/"+(s==null?void 0:s.cloudinaryImageId),alt:""}),e.jsx("div",{className:"bg-gradient-to-t from-black from-1% to-transparent to-40%  rounded-2xl w-full h-full  absolute top-0"}),e.jsx("p",{className:"absolute bottom-0 text-white text-2xl ml-2 mb-1 font-bold",children:s!=null&&s.aggregatedDiscountInfoV3?((l=s==null?void 0:s.aggregatedDiscountInfoV3)==null?void 0:l.header)+" "+((r=s==null?void 0:s.aggregatedDiscountInfoV3)==null?void 0:r.subHeader):""})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h2",{className:"text-lg font-semibold ",children:s==null?void 0:s.name}),e.jsxs("p",{className:"flex items-center gap-1 text-base font-semibold",children:[" ",e.jsx("i",{className:"fi fi-ss-circle-star mt-1 text-green-600 text-lg"})," ",s==null?void 0:s.avgRating," . ",e.jsx("span",{children:(c=s==null?void 0:s.sla)==null?void 0:c.slaString})]}),e.jsx("p",{className:"line-clamp-1 text-black/60 font-medium",children:s.cuisines.join(", ")}),e.jsx("p",{className:"line-clamp-1 text-black/60 font-medium",children:s.locality})]})]})}function ae({data:s=[],title:l}){const[r,c]=x.useState(0);function u(){c(i=>i+50)}function n(){c(i=>i-50)}return e.jsxs("div",{className:"mt-14 w-full",children:[e.jsxs("div",{className:"flex justify-between mt-5",children:[e.jsx("h1",{className:"font-bold text-2xl",children:l}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{onClick:n,className:" cursor-pointer rounded-full w-9 h-9 flex justify-center items-center "+(r<=0?"bg-gray-100":"bg-gray-200"),children:e.jsx("i",{className:"fi text-2xl mt-1 fi-rr-arrow-small-left "+(r<=0?"text-gray-300":"text-gray-800")})}),e.jsx("div",{onClick:u,className:" cursor-pointer rounded-full w-9 h-9 flex justify-center items-center "+(r>=124?"bg-gray-100":"bg-gray-200"),children:e.jsx("i",{className:"fi text-2xl mt-1 fi-rr-arrow-small-right "+(r>=124?"text-gray-300":"text-gray-800")})})]})]}),e.jsx("div",{className:"flex mt-4 gap-5 w-full duration-300",style:{translate:`-${r}%`},children:s.map(({info:i,cta:{link:a}})=>e.jsx("div",{className:"hover:scale-95 duration-300",children:e.jsx(A,{...i,link:a})},i.id))}),e.jsx("hr",{className:"border mt-10"})]})}function te({data:s,title:l}){const r=["Ratings 4.0+","Rs. 300-Rs. 600","Offers","Less than Rs. 300"],[c,u]=x.useState(null),n=Q();function i(a){u(c===a?null:a)}return n(U(c)),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold my-7 text-2xl",children:l}),e.jsx("div",{className:"my-7 flex flex-wrap gap-3",children:r.map((a,d)=>e.jsxs("button",{onClick:()=>i(a),className:"filterBtn flex gap-2 "+(c===a?"active":""),children:[e.jsx("p",{children:a}),e.jsx("i",{className:"fi text-sm mt-1 fi-br-cross hidden"})]},d))}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-10",children:s.map(({info:a,cta:{link:d}})=>e.jsx("div",{className:"hover:scale-95 duration-300",children:e.jsx(A,{...a,link:d})},a.id))})]})}function le(){const[s,l]=x.useState([]),[r,c]=x.useState(""),[u,n]=x.useState(""),[i,a]=x.useState([]),[d,j]=x.useState({}),{coord:{lat:h,lng:f}}=x.useContext(X);async function p(){var v,w,N,b,_,R,D,S,T,k,C,I,O,V,E,F,$,B,L,M,W,Y,q,P,G;const t=await(await fetch(`https://cors-by-codethread-for-swiggy.vercel.app/cors/dapi/restaurants/list/v5?lat=${h}&lng=${f}&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING`)).json();j(t.data),c((_=(b=(N=(w=(v=t==null?void 0:t.data)==null?void 0:v.cards[1])==null?void 0:w.card)==null?void 0:N.card)==null?void 0:b.header)==null?void 0:_.title),n((T=(S=(D=(R=t==null?void 0:t.data)==null?void 0:R.cards[2])==null?void 0:D.card)==null?void 0:S.card)==null?void 0:T.title);let H=(E=(V=(O=(I=(C=(k=t==null?void 0:t.data)==null?void 0:k.cards.find(o=>{var m,g;return((g=(m=o==null?void 0:o.card)==null?void 0:m.card)==null?void 0:g.id)=="top_brands_for_you"}))==null?void 0:C.card)==null?void 0:I.card)==null?void 0:O.gridElements)==null?void 0:V.infoWithStyle)==null?void 0:E.restaurants,K=(W=(M=(L=(B=($=(F=t==null?void 0:t.data)==null?void 0:F.cards.find(o=>{var m,g;return((g=(m=o==null?void 0:o.card)==null?void 0:m.card)==null?void 0:g.id)=="restaurant_grid_listing"}))==null?void 0:$.card)==null?void 0:B.card)==null?void 0:L.gridElements)==null?void 0:M.infoWithStyle)==null?void 0:W.restaurants;l(H||K);let z=(G=(P=(q=(Y=t==null?void 0:t.data)==null?void 0:Y.cards.find(o=>{var m,g;return((g=(m=o==null?void 0:o.card)==null?void 0:m.card)==null?void 0:g.id)=="whats_on_your_mind"}).card)==null?void 0:q.card)==null?void 0:P.imageGridCards)==null?void 0:G.info;a(z)}return x.useEffect(()=>{p()},[h,f]),[s,r,u,i,d]}function ne(){const[s,l,r,c,u]=le(),n=Z(a=>{var d;return(d=a==null?void 0:a.filterSlice)==null?void 0:d.filterVal}),i=s.filter(a=>{var d,j,h,f,p,y,t;if(!n)return!0;switch(n){case"Ratings 4.0+":return((d=a==null?void 0:a.info)==null?void 0:d.avgRating)>4;case"Rs. 300-Rs. 600":return((h=(j=a==null?void 0:a.info)==null?void 0:j.costForTwo)==null?void 0:h.slice(1,4))>="300"&&((p=(f=a==null?void 0:a.info)==null?void 0:f.costForTwo)==null?void 0:p.slice(1,4))<="600";case"Offers":return;case"Less than Rs. 300":return((t=(y=a==null?void 0:a.info)==null?void 0:y.costForTwo)==null?void 0:t.slice(1,4))<"300";default:return!0}});return u.communication||u.tid==""?e.jsxs("div",{className:"flex mt-64 overflow-hidden justify-center items-center flex-col",children:[e.jsx("img",{className:"w-72",src:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_476,h_476/portal/m/location_unserviceable.png",alt:""}),e.jsx("h1",{children:"Location unservicalbe"})]}):e.jsx("div",{className:"w-full ",children:s.length?e.jsxs("div",{className:" w-full px-10 sm:w-[90%] lg:w-[80%] mx-auto mt-3 overflow-hidden",children:[c.length?e.jsxs(e.Fragment,{children:[e.jsx(se,{data:c}),e.jsx(ae,{data:s,title:l})]}):"",e.jsx(te,{data:n?i:s,title:r})]}):e.jsx(ee,{})})}export{ne as default};
